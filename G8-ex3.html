<!DOCTYPE html>
<html lang="ru">
    <head>
      <meta charset="utf-8">
      <title>Java для детей. Виселица!</title>
    </head>
    <body>
      <h2>Виселица!</h2>   
    <script>
    function pickWord() {
      var words = [
        "программа",
        "последовательность",
        "макака",
        "носорог",
        "чингачгук",
        "новохудоносор",
        "землеустройство",
        "прекрасный",
        "переоборудование",
        "оладушек",
        "разъяренный"
    ];
      return words[Math.floor(Math.random() * words.length)];
    }
    function setupAnswerArray(word) {
      var answerArray = [];
      for (var i = 0; i < word.length; i++) {
      answerArray[i] = "_";
    }
      return answerArray;  
    }
    function showPlayerProgress(answerArray) {
        alert(answerArray.join( " "));
    }
    function getGuess() {
        return prompt("Угадайте букву или нажмите Отмена для выхода из игры.");
    }
    function updateGameState(guess, word, answerArray) {
        var appearances = 0;
        for (var j = 0; j < word.length; j++) {
        if (word[j] === guess && answerArray[j] === "_") {
          answerArray[j] = guess;
          appearances++;
          }
        }
        return appearances;
    }
    function showAnswerAndCongratulatePlayer(answerArray) {
      showPlayerProgress(answerArray);
      if (attempts > 0) {
      alert("Отлично! Было загадано слово " + answerArray.join( ""));
      } else {
      alert("ПЛОХО!!!! Не отгадали!!! Было загадано слово " + word);   
      }
    }

    var word = pickWord(); 
    var answerArray = setupAnswerArray(word);
    var remainingLetters = word.length;
    var attempts = 18;
    while (remainingLetters > 0 && attempts > 0) {
        showPlayerProgress(answerArray);
    var guess = getGuess();
    guess = guess.toLowerCase();
    if (guess === null) {
      break;
    } else if (guess.length !== 1) {
      alert("Пожалуйста, введите одиночную букву.");
    } else {
        var correctGuesses = updateGameState(guess, word, answerArray);
        remainingLetters -= correctGuesses;
        attempts--;
        }
      }
    showAnswerAndCongratulatePlayer(answerArray);
    </script>
    </body>
</html>